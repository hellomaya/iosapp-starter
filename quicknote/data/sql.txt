DROP TABLE IF EXISTS "setting";
CREATE TABLE "setting" (
    "setting_id" INTEGER PRIMARY KEY  NOT NULL,
    "user_id" INTEGER NOT NULL DEFAULT (0),
    "name" TEXT NOT NULL DEFAULT '',
    "value" TEXT NOT NULL DEFAULT ''
   );


DROP TABLE IF EXISTS "tag";
CREATE TABLE "tag" (
    "tag_id" INTEGER PRIMARY KEY  NOT NULL  DEFAULT (0) ,
    "user_id" INTEGER NOT NULL DEFAULT (0),
    "name" INTEGER NOT NULL DEFAULT (0) ,
    "name_index" TEXT NOT NULL DEFAULT ''
   );

DROP TABLE IF EXISTS "mark";
CREATE TABLE "mark" (
    "mark_id" INTEGER PRIMARY KEY  NOT NULL ,
     "user_id" INTEGER NOT NULL DEFAULT (0),
    "name" INTEGER NOT NULL DEFAULT (0),
    "hint" TEXT NOT NULL DEFAULT '',
    "level" TEXT NOT NULL DEFAULT '',
    "icon" TEXT NOT NULL DEFAULT '');
    
DROP TABLE IF EXISTS "category";
CREATE TABLE "category" (
    "category_id" INTEGER PRIMARY KEY  NOT NULL,
     "user_id" INTEGER NOT NULL DEFAULT (0),
    "name" TEXT NOT NULL DEFAULT '',
    "name_index" TEXT NOT NULL DEFAULT '',
    "level" INTEGER NOT NULL DEFAULT 0,
    "sort" INTEGER NOT NULL DEFAULT 0,
    "family" TEXT NOT NULL DEFAULT ''
    );

DROP TABLE IF EXISTS "category_to_tag";
CREATE TABLE "category_to_tag" (
    "category_id" INTEGER NOT NULL DEFAULT 0,
    "tag_id" INTEGER NOT NULL DEFAULT 0);
    
DROP TABLE IF EXISTS "category_to_mark";
CREATE TABLE "category_to_mark" (
    "category_id" INTEGER NOT NULL DEFAULT 0,
    "mark_id" INTEGER NOT NULL DEFAULT 0);

DROP TABLE IF EXISTS "image";
CREATE TABLE "image" (
    "image_id" INTEGER PRIMARY KEY  NOT NULL  ,
     "user_id" INTEGER NOT NULL DEFAULT (0),
    "name" TEXT NOT NULL DEFAULT '' ,
    "name_index" TEXT NOT NULL DEFAULT '' ,
    "description" TEXT NOT NULL DEFAULT '' ,
    "watermark" TEXT NOT NULL DEFAULT '',
    "created" INTEGER NOT NULL  DEFAULT (0) ,
    "updated" INTEGER NOT NULL  DEFAULT (0)
    );

DROP TABLE IF EXISTS "post";
CREATE TABLE "post" (
    "post_id" INTEGER PRIMARY KEY  NOT NULL,
     "user_id" INTEGER NOT NULL DEFAULT (0),
    "image" TEXT NOT NULL DEFAULT '',
    "name" TEXT NOT NULL DEFAULT '' ,
    "name_index" TEXT NOT NULL DEFAULT '' ,
    "description" TEXT NOT NULL DEFAULT '' ,
    "price" TEXT NOT NULL DEFAULT '',
    "location" TEXT NOT NULL DEFAULT '' ,
    "address" TEXT NOT NULL DEFAULT '' ,
    "longitude" TEXT NOT NULL DEFAULT '' ,
    "latitude" TEXT NOT NULL DEFAULT '' ,
    "watermark" TEXT NOT NULL DEFAULT '',
    "created" INTEGER NOT NULL  DEFAULT (0) ,
    "updated" INTEGER NOT NULL  DEFAULT (0)
    );
    
DROP TABLE IF EXISTS "post_to_tag";
CREATE TABLE "post_to_tag" (
    "post_id" INTEGER NOT NULL  DEFAULT 0,
    "tag_id" INTEGER NOT NULL  DEFAULT 0);

DROP TABLE IF EXISTS "post_to_mark";
CREATE TABLE "post_to_mark" (
    "post_id" INTEGER NOT NULL  DEFAULT 0,
    "mark_id" INTEGER NOT NULL  DEFAULT 0);
    
DROP TABLE IF EXISTS "post_to_image";
CREATE TABLE "post_to_image" (
    "post_id" INTEGER NOT NULL  DEFAULT 0,
    "image_id" INTEGER NOT NULL  DEFAULT 0);

DROP TABLE IF EXISTS "post_to_category";
CREATE TABLE "post_to_category" (
    "post_id" INTEGER NOT NULL  DEFAULT 0,
    "category_id" INTEGER NOT NULL  DEFAULT 0);
    
DROP TABLE IF EXISTS "postmeta";
CREATE TABLE "post_to_meta" (
    "postmeta_id" INTEGER PRIMARY KEY  NOT NULL,
    "post_id" INTEGER NOT NULL DEFAULT '0',
    "name" TEXT NOT NULL DEFAULT '',
    "type" TEXT NOT NULL DEFAULT '' ,
    "value" TEXT NOT NULL DEFAULT '',
    "sort" INTEGER NOT NULL DEFAULT '0'
    );

DROP TABLE IF EXISTS "user";
CREATE TABLE "user" (
    "user_id" INTEGER PRIMARY KEY  NOT NULL  DEFAULT (0) ,
    "name" TEXT NOT NULL  DEFAULT ('') ,
    "password" TEXT NOT NULL  DEFAULT ('') ,
    "status" INTEGER NOT NULL  DEFAULT (0) ,
    "active" INTEGER NOT NULL  DEFAULT (0) ,
    "last_login" INTEGER NOT NULL  DEFAULT (0) ,
    "last_logout" INTEGER NOT NULL  DEFAULT (0) );

